<!DOCTYPE html>
<body>
<p>Welcome to the early version of the fighting engine!</br>To move, use the arrow keys. To punch, press 'Z'.</br>Only works in Firefox, because of the file domain.</br>This text will be gone in the final version.</p>
</body>
<canvas id="canvas_id" width="800" height="600"></canvas>
<script src="jquery-1.11.1.min.js"></script>
<script src="src/images.js"></script>
<script src="Player.js"></script>
<script src="Hitboxes.js"></script> <!--Load the hitbox script-->
<script src="Controller.js"></script>
<script src="Sprite.js"></script>
<script>
var canvas="canvas_id";
var context=document.getElementById("canvas_id").getContext("2d");
var FPS = 60;
var walls = []; //solid objects- the player can't walk through these
var friendlyHitboxes = []; //Player hitboxes, if an enemy attacks these, the player will take damage
var friendlyAttackboxes = []; //Player attacks' hitboxes, if an enemy is caught inside, they will take damage
var enemyHitboxes = []; //sets up an empty array named enemyHitboxes
var enemyAttackboxes = [];
var animations = [];

image.load("rsrc/img/Player.png", "PlayerTest");

removeFromArray = function(array,target){
	var i = array.indexOf(target);
	if(i != -1) {
		array.splice(i, 1);
	}
};

updateAnimations = function(){
	for(i = 0; i < animations.length; i++)
		animations[i].stepFrame();
};

this.Player = addPlayer(200, 10);
this.Controller = addController(this.Player);


var mainloop = function(){
	context.clearRect(0,0,800,600);
	this.Player.updateAttack();//Step through the player's attack animation
	//this.Controller.updateKeyboard();
};


setInterval(mainloop, 1000/FPS);
</script>
